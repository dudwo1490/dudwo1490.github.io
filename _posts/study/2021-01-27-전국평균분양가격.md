# 전국 신규 민간 아파트 분양가격 동향

다운로드 위치 : https://www.data.go.kr/dataset/3035522/fileData.do

 전국 평균 분양가격(2013년 9월부터 2015년 8월까지)
 주택도시보증공사_전국 평균 분양가격(2019년 12월)
 두 개의 다른 데이터를 합치기

## 데이터 불러오기


```python


import pandas as pd
df_last = pd.read_csv("data/주택도시보증공사_전국 평균 분양가격(2019년 12월).csv", encoding="cp949", engine="python")
#encoding으로 한글 깨지는걸 방지 
# engine은 파이썬 
df_last.shape
 
```




    (4335, 5)




```python
df_last.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>규모구분</th>
      <th>연도</th>
      <th>월</th>
      <th>분양가격(㎡)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>전체</td>
      <td>2015</td>
      <td>10</td>
      <td>5841</td>
    </tr>
    <tr>
      <th>1</th>
      <td>서울</td>
      <td>전용면적 60㎡이하</td>
      <td>2015</td>
      <td>10</td>
      <td>5652</td>
    </tr>
    <tr>
      <th>2</th>
      <td>서울</td>
      <td>전용면적 60㎡초과 85㎡이하</td>
      <td>2015</td>
      <td>10</td>
      <td>5882</td>
    </tr>
    <tr>
      <th>3</th>
      <td>서울</td>
      <td>전용면적 85㎡초과 102㎡이하</td>
      <td>2015</td>
      <td>10</td>
      <td>5721</td>
    </tr>
    <tr>
      <th>4</th>
      <td>서울</td>
      <td>전용면적 102㎡초과</td>
      <td>2015</td>
      <td>10</td>
      <td>5879</td>
    </tr>
  </tbody>
</table>
</div>




```python
df_last.tail()
# NaN는 결측치
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>규모구분</th>
      <th>연도</th>
      <th>월</th>
      <th>분양가격(㎡)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4330</th>
      <td>제주</td>
      <td>전체</td>
      <td>2019</td>
      <td>12</td>
      <td>3882</td>
    </tr>
    <tr>
      <th>4331</th>
      <td>제주</td>
      <td>전용면적 60㎡이하</td>
      <td>2019</td>
      <td>12</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4332</th>
      <td>제주</td>
      <td>전용면적 60㎡초과 85㎡이하</td>
      <td>2019</td>
      <td>12</td>
      <td>3898</td>
    </tr>
    <tr>
      <th>4333</th>
      <td>제주</td>
      <td>전용면적 85㎡초과 102㎡이하</td>
      <td>2019</td>
      <td>12</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4334</th>
      <td>제주</td>
      <td>전용면적 102㎡초과</td>
      <td>2019</td>
      <td>12</td>
      <td>3601</td>
    </tr>
  </tbody>
</table>
</div>




```python
#%ls data
df_first = pd.read_csv("data/전국 평균 분양가격(2013년 9월부터 2015년 8월까지).csv", 
                       encoding="cp949")
df_first.shape
```




    (17, 22)




```python
df_first.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역</th>
      <th>2013년12월</th>
      <th>2014년1월</th>
      <th>2014년2월</th>
      <th>2014년3월</th>
      <th>2014년4월</th>
      <th>2014년5월</th>
      <th>2014년6월</th>
      <th>2014년7월</th>
      <th>2014년8월</th>
      <th>...</th>
      <th>2014년11월</th>
      <th>2014년12월</th>
      <th>2015년1월</th>
      <th>2015년2월</th>
      <th>2015년3월</th>
      <th>2015년4월</th>
      <th>2015년5월</th>
      <th>2015년6월</th>
      <th>2015년7월</th>
      <th>2015년8월</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>18189</td>
      <td>17925</td>
      <td>17925</td>
      <td>18016</td>
      <td>18098</td>
      <td>19446</td>
      <td>18867</td>
      <td>18742</td>
      <td>19274</td>
      <td>...</td>
      <td>20242</td>
      <td>20269</td>
      <td>20670</td>
      <td>20670</td>
      <td>19415</td>
      <td>18842</td>
      <td>18367</td>
      <td>18374</td>
      <td>18152</td>
      <td>18443</td>
    </tr>
    <tr>
      <th>1</th>
      <td>부산</td>
      <td>8111</td>
      <td>8111</td>
      <td>9078</td>
      <td>8965</td>
      <td>9402</td>
      <td>9501</td>
      <td>9453</td>
      <td>9457</td>
      <td>9411</td>
      <td>...</td>
      <td>9208</td>
      <td>9208</td>
      <td>9204</td>
      <td>9235</td>
      <td>9279</td>
      <td>9327</td>
      <td>9345</td>
      <td>9515</td>
      <td>9559</td>
      <td>9581</td>
    </tr>
    <tr>
      <th>2</th>
      <td>대구</td>
      <td>8080</td>
      <td>8080</td>
      <td>8077</td>
      <td>8101</td>
      <td>8267</td>
      <td>8274</td>
      <td>8360</td>
      <td>8360</td>
      <td>8370</td>
      <td>...</td>
      <td>8439</td>
      <td>8253</td>
      <td>8327</td>
      <td>8416</td>
      <td>8441</td>
      <td>8446</td>
      <td>8568</td>
      <td>8542</td>
      <td>8542</td>
      <td>8795</td>
    </tr>
    <tr>
      <th>3</th>
      <td>인천</td>
      <td>10204</td>
      <td>10204</td>
      <td>10408</td>
      <td>10408</td>
      <td>10000</td>
      <td>9844</td>
      <td>10058</td>
      <td>9974</td>
      <td>9973</td>
      <td>...</td>
      <td>10020</td>
      <td>10020</td>
      <td>10017</td>
      <td>9876</td>
      <td>9876</td>
      <td>9938</td>
      <td>10551</td>
      <td>10443</td>
      <td>10443</td>
      <td>10449</td>
    </tr>
    <tr>
      <th>4</th>
      <td>광주</td>
      <td>6098</td>
      <td>7326</td>
      <td>7611</td>
      <td>7346</td>
      <td>7346</td>
      <td>7523</td>
      <td>7659</td>
      <td>7612</td>
      <td>7622</td>
      <td>...</td>
      <td>7752</td>
      <td>7748</td>
      <td>7752</td>
      <td>7756</td>
      <td>7861</td>
      <td>7914</td>
      <td>7877</td>
      <td>7881</td>
      <td>8089</td>
      <td>8231</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 22 columns</p>
</div>




```python
df_first.tail()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역</th>
      <th>2013년12월</th>
      <th>2014년1월</th>
      <th>2014년2월</th>
      <th>2014년3월</th>
      <th>2014년4월</th>
      <th>2014년5월</th>
      <th>2014년6월</th>
      <th>2014년7월</th>
      <th>2014년8월</th>
      <th>...</th>
      <th>2014년11월</th>
      <th>2014년12월</th>
      <th>2015년1월</th>
      <th>2015년2월</th>
      <th>2015년3월</th>
      <th>2015년4월</th>
      <th>2015년5월</th>
      <th>2015년6월</th>
      <th>2015년7월</th>
      <th>2015년8월</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>12</th>
      <td>전북</td>
      <td>6282</td>
      <td>6281</td>
      <td>5946</td>
      <td>5966</td>
      <td>6277</td>
      <td>6306</td>
      <td>6351</td>
      <td>6319</td>
      <td>6436</td>
      <td>...</td>
      <td>6583</td>
      <td>6583</td>
      <td>6583</td>
      <td>6583</td>
      <td>6542</td>
      <td>6551</td>
      <td>6556</td>
      <td>6601</td>
      <td>6750</td>
      <td>6580</td>
    </tr>
    <tr>
      <th>13</th>
      <td>전남</td>
      <td>5678</td>
      <td>5678</td>
      <td>5678</td>
      <td>5696</td>
      <td>5736</td>
      <td>5656</td>
      <td>5609</td>
      <td>5780</td>
      <td>5685</td>
      <td>...</td>
      <td>5768</td>
      <td>5784</td>
      <td>5784</td>
      <td>5833</td>
      <td>5825</td>
      <td>5940</td>
      <td>6050</td>
      <td>6243</td>
      <td>6286</td>
      <td>6289</td>
    </tr>
    <tr>
      <th>14</th>
      <td>경북</td>
      <td>6168</td>
      <td>6168</td>
      <td>6234</td>
      <td>6317</td>
      <td>6412</td>
      <td>6409</td>
      <td>6554</td>
      <td>6556</td>
      <td>6563</td>
      <td>...</td>
      <td>6881</td>
      <td>6989</td>
      <td>6992</td>
      <td>6953</td>
      <td>6997</td>
      <td>7006</td>
      <td>6966</td>
      <td>6887</td>
      <td>7035</td>
      <td>7037</td>
    </tr>
    <tr>
      <th>15</th>
      <td>경남</td>
      <td>6473</td>
      <td>6485</td>
      <td>6502</td>
      <td>6610</td>
      <td>6599</td>
      <td>6610</td>
      <td>6615</td>
      <td>6613</td>
      <td>6606</td>
      <td>...</td>
      <td>7125</td>
      <td>7332</td>
      <td>7592</td>
      <td>7588</td>
      <td>7668</td>
      <td>7683</td>
      <td>7717</td>
      <td>7715</td>
      <td>7723</td>
      <td>7665</td>
    </tr>
    <tr>
      <th>16</th>
      <td>제주</td>
      <td>7674</td>
      <td>7900</td>
      <td>7900</td>
      <td>7900</td>
      <td>7900</td>
      <td>7900</td>
      <td>7914</td>
      <td>7914</td>
      <td>7914</td>
      <td>...</td>
      <td>7724</td>
      <td>7739</td>
      <td>7739</td>
      <td>7739</td>
      <td>7826</td>
      <td>7285</td>
      <td>7285</td>
      <td>7343</td>
      <td>7343</td>
      <td>7343</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 22 columns</p>
</div>



## 데이터 요약하기


```python
df_last.info()
# 분양가격은 결측치도 있고 object형으로 되어있다.
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 4335 entries, 0 to 4334
    Data columns (total 5 columns):
     #   Column   Non-Null Count  Dtype 
    ---  ------   --------------  ----- 
     0   지역명      4335 non-null   object
     1   규모구분     4335 non-null   object
     2   연도       4335 non-null   int64 
     3   월        4335 non-null   int64 
     4   분양가격(㎡)  4058 non-null   object
    dtypes: int64(2), object(3)
    memory usage: 169.5+ KB
    

## 결측치 보기


```python
df_last.isnull()
# null값은 true 
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>규모구분</th>
      <th>연도</th>
      <th>월</th>
      <th>분양가격(㎡)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>4330</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4331</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4332</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4333</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4334</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
<p>4335 rows × 5 columns</p>
</div>




```python
# 결측치 수 구하기
df_last.isnull().sum()
```




    지역명          0
    규모구분         0
    연도           0
    월            0
    분양가격(㎡)    277
    dtype: int64



## 데이터 타입 변경


```python
# object인 분양가격을 float형태로 바꿔주기(새로운 분양가격 칼럼을 만들어줌)
df_last["분양가격"] = pd.to_numeric(df_last["분양가격(㎡)"], errors='coerce')
```


```python
df_last.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 4335 entries, 0 to 4334
    Data columns (total 6 columns):
     #   Column   Non-Null Count  Dtype  
    ---  ------   --------------  -----  
     0   지역명      4335 non-null   object 
     1   규모구분     4335 non-null   object 
     2   연도       4335 non-null   int64  
     3   월        4335 non-null   int64  
     4   분양가격(㎡)  4058 non-null   object 
     5   분양가격     3957 non-null   float64
    dtypes: float64(1), int64(2), object(3)
    memory usage: 203.3+ KB
    

## 두 파일 단위를 맞춰주기


```python
# df_last 분양가격에 3.3을 곱해서 평당분양가격을 맞추어주기
df_last["평당분양가격"] = df_last["분양가격"] * 3.3
```


```python
df_last.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>규모구분</th>
      <th>연도</th>
      <th>월</th>
      <th>분양가격(㎡)</th>
      <th>분양가격</th>
      <th>평당분양가격</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>전체</td>
      <td>2015</td>
      <td>10</td>
      <td>5841</td>
      <td>5841.0</td>
      <td>19275.3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>서울</td>
      <td>전용면적 60㎡이하</td>
      <td>2015</td>
      <td>10</td>
      <td>5652</td>
      <td>5652.0</td>
      <td>18651.6</td>
    </tr>
    <tr>
      <th>2</th>
      <td>서울</td>
      <td>전용면적 60㎡초과 85㎡이하</td>
      <td>2015</td>
      <td>10</td>
      <td>5882</td>
      <td>5882.0</td>
      <td>19410.6</td>
    </tr>
    <tr>
      <th>3</th>
      <td>서울</td>
      <td>전용면적 85㎡초과 102㎡이하</td>
      <td>2015</td>
      <td>10</td>
      <td>5721</td>
      <td>5721.0</td>
      <td>18879.3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>서울</td>
      <td>전용면적 102㎡초과</td>
      <td>2015</td>
      <td>10</td>
      <td>5879</td>
      <td>5879.0</td>
      <td>19400.7</td>
    </tr>
  </tbody>
</table>
</div>



## 분양가격 요약


```python
df_last.info()
```

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 4335 entries, 0 to 4334
    Data columns (total 7 columns):
     #   Column   Non-Null Count  Dtype  
    ---  ------   --------------  -----  
     0   지역명      4335 non-null   object 
     1   규모구분     4335 non-null   object 
     2   연도       4335 non-null   int64  
     3   월        4335 non-null   int64  
     4   분양가격(㎡)  4058 non-null   object 
     5   분양가격     3957 non-null   float64
     6   평당분양가격   3957 non-null   float64
    dtypes: float64(2), int64(2), object(3)
    memory usage: 237.2+ KB
    


```python
# object형 describe
df_last["분양가격(㎡)"].describe()
#df_last.shape
```




    count     4058
    unique    1753
    top       2221
    freq        17
    Name: 분양가격(㎡), dtype: object




```python
# float형 describe
df_last["분양가격"].describe()
```




    count     3957.000000
    mean      3238.128633
    std       1264.309933
    min       1868.000000
    25%       2441.000000
    50%       2874.000000
    75%       3561.000000
    max      12728.000000
    Name: 분양가격, dtype: float64



## 규모구분칼럼을 전용면적 칼럼명 변경


```python
df_last["규모구분"].unique()
```




    array(['전체', '전용면적 60㎡이하', '전용면적 60㎡초과 85㎡이하', '전용면적 85㎡초과 102㎡이하',
           '전용면적 102㎡초과'], dtype=object)




```python
df_last["전용면적"] = df_last["규모구분"].str.replace("전용면적", "") 
# 앞에 전용면적 text가 사라진다. > 칼럼명 전용면적을 만든다.
df_last["전용면적"] = df_last["전용면적"].str.replace("초과","~")
# 초과text가 사라지고 ~을 넣어준다.
df_last["전용면적"] = df_last["전용면적"].str.replace("이하","")
#이하 text가 사라진다.
df_last["전용면적"].str.replace(" ", "").str.strip() 
# " "을 ""으로 바꾸고 strip을 써서 앞 뒤 공백을 없애기
```




    0             전체
    1            60㎡
    2        60㎡~85㎡
    3       85㎡~102㎡
    4          102㎡~
              ...   
    4330          전체
    4331         60㎡
    4332     60㎡~85㎡
    4333    85㎡~102㎡
    4334       102㎡~
    Name: 전용면적, Length: 4335, dtype: object




```python
df_last
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>규모구분</th>
      <th>연도</th>
      <th>월</th>
      <th>분양가격(㎡)</th>
      <th>분양가격</th>
      <th>평당분양가격</th>
      <th>전용면적</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>전체</td>
      <td>2015</td>
      <td>10</td>
      <td>5841</td>
      <td>5841.0</td>
      <td>19275.3</td>
      <td>전체</td>
    </tr>
    <tr>
      <th>1</th>
      <td>서울</td>
      <td>전용면적 60㎡이하</td>
      <td>2015</td>
      <td>10</td>
      <td>5652</td>
      <td>5652.0</td>
      <td>18651.6</td>
      <td>60㎡</td>
    </tr>
    <tr>
      <th>2</th>
      <td>서울</td>
      <td>전용면적 60㎡초과 85㎡이하</td>
      <td>2015</td>
      <td>10</td>
      <td>5882</td>
      <td>5882.0</td>
      <td>19410.6</td>
      <td>60㎡~ 85㎡</td>
    </tr>
    <tr>
      <th>3</th>
      <td>서울</td>
      <td>전용면적 85㎡초과 102㎡이하</td>
      <td>2015</td>
      <td>10</td>
      <td>5721</td>
      <td>5721.0</td>
      <td>18879.3</td>
      <td>85㎡~ 102㎡</td>
    </tr>
    <tr>
      <th>4</th>
      <td>서울</td>
      <td>전용면적 102㎡초과</td>
      <td>2015</td>
      <td>10</td>
      <td>5879</td>
      <td>5879.0</td>
      <td>19400.7</td>
      <td>102㎡~</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>4330</th>
      <td>제주</td>
      <td>전체</td>
      <td>2019</td>
      <td>12</td>
      <td>3882</td>
      <td>3882.0</td>
      <td>12810.6</td>
      <td>전체</td>
    </tr>
    <tr>
      <th>4331</th>
      <td>제주</td>
      <td>전용면적 60㎡이하</td>
      <td>2019</td>
      <td>12</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>60㎡</td>
    </tr>
    <tr>
      <th>4332</th>
      <td>제주</td>
      <td>전용면적 60㎡초과 85㎡이하</td>
      <td>2019</td>
      <td>12</td>
      <td>3898</td>
      <td>3898.0</td>
      <td>12863.4</td>
      <td>60㎡~ 85㎡</td>
    </tr>
    <tr>
      <th>4333</th>
      <td>제주</td>
      <td>전용면적 85㎡초과 102㎡이하</td>
      <td>2019</td>
      <td>12</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>85㎡~ 102㎡</td>
    </tr>
    <tr>
      <th>4334</th>
      <td>제주</td>
      <td>전용면적 102㎡초과</td>
      <td>2019</td>
      <td>12</td>
      <td>3601</td>
      <td>3601.0</td>
      <td>11883.3</td>
      <td>102㎡~</td>
    </tr>
  </tbody>
</table>
<p>4335 rows × 8 columns</p>
</div>




```python
# 규모규분, 분양가격(㎡) 칼럼을 없애기 drop이용 
df_last = df_last.drop(["규모구분","분양가격(㎡)"], axis=1)
#axis=1로 해야지 칼럼이 제거된다.(중요) 기본값이 0이다.
```


```python
df_last
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>연도</th>
      <th>월</th>
      <th>분양가격</th>
      <th>평당분양가격</th>
      <th>전용면적</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>2015</td>
      <td>10</td>
      <td>5841.0</td>
      <td>19275.3</td>
      <td>전체</td>
    </tr>
    <tr>
      <th>1</th>
      <td>서울</td>
      <td>2015</td>
      <td>10</td>
      <td>5652.0</td>
      <td>18651.6</td>
      <td>60㎡</td>
    </tr>
    <tr>
      <th>2</th>
      <td>서울</td>
      <td>2015</td>
      <td>10</td>
      <td>5882.0</td>
      <td>19410.6</td>
      <td>60㎡~ 85㎡</td>
    </tr>
    <tr>
      <th>3</th>
      <td>서울</td>
      <td>2015</td>
      <td>10</td>
      <td>5721.0</td>
      <td>18879.3</td>
      <td>85㎡~ 102㎡</td>
    </tr>
    <tr>
      <th>4</th>
      <td>서울</td>
      <td>2015</td>
      <td>10</td>
      <td>5879.0</td>
      <td>19400.7</td>
      <td>102㎡~</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>4330</th>
      <td>제주</td>
      <td>2019</td>
      <td>12</td>
      <td>3882.0</td>
      <td>12810.6</td>
      <td>전체</td>
    </tr>
    <tr>
      <th>4331</th>
      <td>제주</td>
      <td>2019</td>
      <td>12</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>60㎡</td>
    </tr>
    <tr>
      <th>4332</th>
      <td>제주</td>
      <td>2019</td>
      <td>12</td>
      <td>3898.0</td>
      <td>12863.4</td>
      <td>60㎡~ 85㎡</td>
    </tr>
    <tr>
      <th>4333</th>
      <td>제주</td>
      <td>2019</td>
      <td>12</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>85㎡~ 102㎡</td>
    </tr>
    <tr>
      <th>4334</th>
      <td>제주</td>
      <td>2019</td>
      <td>12</td>
      <td>3601.0</td>
      <td>11883.3</td>
      <td>102㎡~</td>
    </tr>
  </tbody>
</table>
<p>4335 rows × 6 columns</p>
</div>



## groupby로 데이터전처리


```python
# 지역명이 같은거끼리 묶고, 평당분양가격의 평균값을 계산한다.
df_last.groupby(["지역명"])["평당분양가격"].mean()
```




    지역명
    강원     7890.750000
    경기    13356.895200
    경남     9268.778138
    경북     8376.536515
    광주     9951.535821
    대구    11980.895455
    대전    10253.333333
    부산    12087.121200
    서울    23599.976400
    세종     9796.516456
    울산    10014.902013
    인천    11915.320732
    전남     7565.316532
    전북     7724.235484
    제주    11241.276712
    충남     8233.651883
    충북     7634.655600
    Name: 평당분양가격, dtype: float64




```python
# 전용면적 묶고, 평당분양가격의 평균값을 계산한다.
df_last.groupby(["전용면적"])["평당분양가격"].mean()
```




    전용면적
     102㎡~        11517.705634
     60㎡          10375.137421
     60㎡~ 85㎡     10271.040071
     85㎡~ 102㎡    11097.599573
    전체            10276.086207
    Name: 평당분양가격, dtype: float64




```python
df_last.groupby(["지역명","전용면적"])["평당분양가격"].mean()
# 처음에 지역명으로 묶고, 두번째로 전용면적으로 묶는다.
```




    지역명  전용면적      
    강원    102㎡~        8311.380000
          60㎡          7567.098000
          60㎡~ 85㎡     7485.588000
          85㎡~ 102㎡    8749.557143
         전체            7477.536000
                          ...     
    충북    102㎡~        8195.352000
          60㎡          7103.118000
          60㎡~ 85㎡     7264.488000
          85㎡~ 102㎡    8391.306000
         전체            7219.014000
    Name: 평당분양가격, Length: 85, dtype: float64




```python
df_last.groupby(["지역명","전용면적"])["평당분양가격"].mean().unstack()
# unstack을 이용하면 두번째로 있는 전용면적이 칼럼값으로 간다.
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>전용면적</th>
      <th>102㎡~</th>
      <th>60㎡</th>
      <th>60㎡~ 85㎡</th>
      <th>85㎡~ 102㎡</th>
      <th>전체</th>
    </tr>
    <tr>
      <th>지역명</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>강원</th>
      <td>8311.380000</td>
      <td>7567.098000</td>
      <td>7485.588000</td>
      <td>8749.557143</td>
      <td>7477.536000</td>
    </tr>
    <tr>
      <th>경기</th>
      <td>14771.790000</td>
      <td>13251.744000</td>
      <td>12523.566000</td>
      <td>13677.774000</td>
      <td>12559.602000</td>
    </tr>
    <tr>
      <th>경남</th>
      <td>10358.363265</td>
      <td>8689.175000</td>
      <td>8618.676000</td>
      <td>10017.612000</td>
      <td>8658.672000</td>
    </tr>
    <tr>
      <th>경북</th>
      <td>9157.302000</td>
      <td>7883.172000</td>
      <td>8061.372000</td>
      <td>8773.814634</td>
      <td>8078.532000</td>
    </tr>
    <tr>
      <th>광주</th>
      <td>11041.532432</td>
      <td>9430.666667</td>
      <td>9910.692000</td>
      <td>9296.100000</td>
      <td>9903.630000</td>
    </tr>
    <tr>
      <th>대구</th>
      <td>13087.338000</td>
      <td>11992.068000</td>
      <td>11778.690000</td>
      <td>11140.642857</td>
      <td>11771.298000</td>
    </tr>
    <tr>
      <th>대전</th>
      <td>14876.871429</td>
      <td>9176.475000</td>
      <td>9711.372000</td>
      <td>9037.430769</td>
      <td>9786.018000</td>
    </tr>
    <tr>
      <th>부산</th>
      <td>13208.250000</td>
      <td>11353.782000</td>
      <td>11864.820000</td>
      <td>12072.588000</td>
      <td>11936.166000</td>
    </tr>
    <tr>
      <th>서울</th>
      <td>23446.038000</td>
      <td>23212.794000</td>
      <td>22786.830000</td>
      <td>25943.874000</td>
      <td>22610.346000</td>
    </tr>
    <tr>
      <th>세종</th>
      <td>10106.976000</td>
      <td>9323.927027</td>
      <td>9775.458000</td>
      <td>9847.926000</td>
      <td>9805.422000</td>
    </tr>
    <tr>
      <th>울산</th>
      <td>9974.448000</td>
      <td>9202.106897</td>
      <td>10502.531707</td>
      <td>8861.007692</td>
      <td>10492.712195</td>
    </tr>
    <tr>
      <th>인천</th>
      <td>14362.030435</td>
      <td>11241.318000</td>
      <td>11384.406000</td>
      <td>11527.560000</td>
      <td>11257.026000</td>
    </tr>
    <tr>
      <th>전남</th>
      <td>8168.490000</td>
      <td>7210.170000</td>
      <td>7269.240000</td>
      <td>7908.862500</td>
      <td>7283.562000</td>
    </tr>
    <tr>
      <th>전북</th>
      <td>8193.570000</td>
      <td>7609.932000</td>
      <td>7271.352000</td>
      <td>8275.781250</td>
      <td>7292.604000</td>
    </tr>
    <tr>
      <th>제주</th>
      <td>10522.787234</td>
      <td>14022.221053</td>
      <td>10621.314000</td>
      <td>10709.082353</td>
      <td>10784.994000</td>
    </tr>
    <tr>
      <th>충남</th>
      <td>8689.169388</td>
      <td>7911.156000</td>
      <td>7818.954000</td>
      <td>9120.045000</td>
      <td>7815.324000</td>
    </tr>
    <tr>
      <th>충북</th>
      <td>8195.352000</td>
      <td>7103.118000</td>
      <td>7264.488000</td>
      <td>8391.306000</td>
      <td>7219.014000</td>
    </tr>
  </tbody>
</table>
</div>




```python
df_last.groupby(["지역명","전용면적"])["평당분양가격"].mean().unstack().round()
# round를 이용하면 소수점 한자리로 바꿀 수 있다.
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>전용면적</th>
      <th>102㎡~</th>
      <th>60㎡</th>
      <th>60㎡~ 85㎡</th>
      <th>85㎡~ 102㎡</th>
      <th>전체</th>
    </tr>
    <tr>
      <th>지역명</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>강원</th>
      <td>8311.0</td>
      <td>7567.0</td>
      <td>7486.0</td>
      <td>8750.0</td>
      <td>7478.0</td>
    </tr>
    <tr>
      <th>경기</th>
      <td>14772.0</td>
      <td>13252.0</td>
      <td>12524.0</td>
      <td>13678.0</td>
      <td>12560.0</td>
    </tr>
    <tr>
      <th>경남</th>
      <td>10358.0</td>
      <td>8689.0</td>
      <td>8619.0</td>
      <td>10018.0</td>
      <td>8659.0</td>
    </tr>
    <tr>
      <th>경북</th>
      <td>9157.0</td>
      <td>7883.0</td>
      <td>8061.0</td>
      <td>8774.0</td>
      <td>8079.0</td>
    </tr>
    <tr>
      <th>광주</th>
      <td>11042.0</td>
      <td>9431.0</td>
      <td>9911.0</td>
      <td>9296.0</td>
      <td>9904.0</td>
    </tr>
    <tr>
      <th>대구</th>
      <td>13087.0</td>
      <td>11992.0</td>
      <td>11779.0</td>
      <td>11141.0</td>
      <td>11771.0</td>
    </tr>
    <tr>
      <th>대전</th>
      <td>14877.0</td>
      <td>9176.0</td>
      <td>9711.0</td>
      <td>9037.0</td>
      <td>9786.0</td>
    </tr>
    <tr>
      <th>부산</th>
      <td>13208.0</td>
      <td>11354.0</td>
      <td>11865.0</td>
      <td>12073.0</td>
      <td>11936.0</td>
    </tr>
    <tr>
      <th>서울</th>
      <td>23446.0</td>
      <td>23213.0</td>
      <td>22787.0</td>
      <td>25944.0</td>
      <td>22610.0</td>
    </tr>
    <tr>
      <th>세종</th>
      <td>10107.0</td>
      <td>9324.0</td>
      <td>9775.0</td>
      <td>9848.0</td>
      <td>9805.0</td>
    </tr>
    <tr>
      <th>울산</th>
      <td>9974.0</td>
      <td>9202.0</td>
      <td>10503.0</td>
      <td>8861.0</td>
      <td>10493.0</td>
    </tr>
    <tr>
      <th>인천</th>
      <td>14362.0</td>
      <td>11241.0</td>
      <td>11384.0</td>
      <td>11528.0</td>
      <td>11257.0</td>
    </tr>
    <tr>
      <th>전남</th>
      <td>8168.0</td>
      <td>7210.0</td>
      <td>7269.0</td>
      <td>7909.0</td>
      <td>7284.0</td>
    </tr>
    <tr>
      <th>전북</th>
      <td>8194.0</td>
      <td>7610.0</td>
      <td>7271.0</td>
      <td>8276.0</td>
      <td>7293.0</td>
    </tr>
    <tr>
      <th>제주</th>
      <td>10523.0</td>
      <td>14022.0</td>
      <td>10621.0</td>
      <td>10709.0</td>
      <td>10785.0</td>
    </tr>
    <tr>
      <th>충남</th>
      <td>8689.0</td>
      <td>7911.0</td>
      <td>7819.0</td>
      <td>9120.0</td>
      <td>7815.0</td>
    </tr>
    <tr>
      <th>충북</th>
      <td>8195.0</td>
      <td>7103.0</td>
      <td>7264.0</td>
      <td>8391.0</td>
      <td>7219.0</td>
    </tr>
  </tbody>
</table>
</div>




```python
#연도,지역명으로 평당분양가격 평균 구하기
g = df_last.groupby(["연도","지역명"])["평당분양가격"].mean()
g
```




    연도    지역명
    2015  강원      7188.060000
          경기     11060.940000
          경남      8459.220000
          경북      7464.160000
          광주      7916.700000
                     ...     
    2019  전남      8219.275862
          전북      8532.260000
          제주     11828.469231
          충남      8748.840000
          충북      7970.875000
    Name: 평당분양가격, Length: 85, dtype: float64




```python
df_last.groupby(["연도","지역명"])["평당분양가격"].mean().unstack().T
#unstack으로 지역명을 칼럼으로 보내고, T(transpose)로 칼럼과 행값을 바꿔준다.
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>연도</th>
      <th>2015</th>
      <th>2016</th>
      <th>2017</th>
      <th>2018</th>
      <th>2019</th>
    </tr>
    <tr>
      <th>지역명</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>강원</th>
      <td>7188.060</td>
      <td>7162.903846</td>
      <td>7273.560000</td>
      <td>8219.255000</td>
      <td>8934.475000</td>
    </tr>
    <tr>
      <th>경기</th>
      <td>11060.940</td>
      <td>11684.970000</td>
      <td>12304.980000</td>
      <td>14258.420000</td>
      <td>15665.540000</td>
    </tr>
    <tr>
      <th>경남</th>
      <td>8459.220</td>
      <td>8496.730000</td>
      <td>8786.760000</td>
      <td>9327.670000</td>
      <td>10697.615789</td>
    </tr>
    <tr>
      <th>경북</th>
      <td>7464.160</td>
      <td>7753.405000</td>
      <td>8280.800000</td>
      <td>8680.776923</td>
      <td>9050.250000</td>
    </tr>
    <tr>
      <th>광주</th>
      <td>7916.700</td>
      <td>9190.683333</td>
      <td>9613.977551</td>
      <td>9526.953333</td>
      <td>12111.675000</td>
    </tr>
    <tr>
      <th>대구</th>
      <td>9018.900</td>
      <td>10282.030000</td>
      <td>12206.700000</td>
      <td>12139.252632</td>
      <td>14081.650000</td>
    </tr>
    <tr>
      <th>대전</th>
      <td>8190.600</td>
      <td>8910.733333</td>
      <td>9957.158491</td>
      <td>10234.106667</td>
      <td>12619.200000</td>
    </tr>
    <tr>
      <th>부산</th>
      <td>10377.400</td>
      <td>10743.535000</td>
      <td>11560.680000</td>
      <td>12889.965000</td>
      <td>13537.865000</td>
    </tr>
    <tr>
      <th>서울</th>
      <td>20315.680</td>
      <td>21753.435000</td>
      <td>21831.060000</td>
      <td>23202.245000</td>
      <td>28286.830000</td>
    </tr>
    <tr>
      <th>세종</th>
      <td>8765.020</td>
      <td>8857.805000</td>
      <td>9132.505556</td>
      <td>10340.463158</td>
      <td>11299.394118</td>
    </tr>
    <tr>
      <th>울산</th>
      <td>9367.600</td>
      <td>9582.574138</td>
      <td>10666.935714</td>
      <td>10241.400000</td>
      <td>10216.250000</td>
    </tr>
    <tr>
      <th>인천</th>
      <td>10976.020</td>
      <td>11099.055000</td>
      <td>11640.600000</td>
      <td>11881.532143</td>
      <td>13249.775000</td>
    </tr>
    <tr>
      <th>전남</th>
      <td>6798.880</td>
      <td>6936.600000</td>
      <td>7372.920000</td>
      <td>7929.845000</td>
      <td>8219.275862</td>
    </tr>
    <tr>
      <th>전북</th>
      <td>7110.400</td>
      <td>6906.625000</td>
      <td>7398.973585</td>
      <td>8174.595000</td>
      <td>8532.260000</td>
    </tr>
    <tr>
      <th>제주</th>
      <td>7951.075</td>
      <td>9567.480000</td>
      <td>12566.730000</td>
      <td>11935.968000</td>
      <td>11828.469231</td>
    </tr>
    <tr>
      <th>충남</th>
      <td>7689.880</td>
      <td>7958.225000</td>
      <td>8198.422222</td>
      <td>8201.820000</td>
      <td>8748.840000</td>
    </tr>
    <tr>
      <th>충북</th>
      <td>6828.800</td>
      <td>7133.335000</td>
      <td>7473.120000</td>
      <td>8149.295000</td>
      <td>7970.875000</td>
    </tr>
  </tbody>
</table>
</div>



## pivot table로 데이터 전처리


```python
#aggfunc으로 mean, sum같은 계산이 가능하다.
pd.pivot_table(df_last, index=["지역명"], values=["평당분양가격"], aggfunc="mean")
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>평당분양가격</th>
    </tr>
    <tr>
      <th>지역명</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>강원</th>
      <td>7890.750000</td>
    </tr>
    <tr>
      <th>경기</th>
      <td>13356.895200</td>
    </tr>
    <tr>
      <th>경남</th>
      <td>9268.778138</td>
    </tr>
    <tr>
      <th>경북</th>
      <td>8376.536515</td>
    </tr>
    <tr>
      <th>광주</th>
      <td>9951.535821</td>
    </tr>
    <tr>
      <th>대구</th>
      <td>11980.895455</td>
    </tr>
    <tr>
      <th>대전</th>
      <td>10253.333333</td>
    </tr>
    <tr>
      <th>부산</th>
      <td>12087.121200</td>
    </tr>
    <tr>
      <th>서울</th>
      <td>23599.976400</td>
    </tr>
    <tr>
      <th>세종</th>
      <td>9796.516456</td>
    </tr>
    <tr>
      <th>울산</th>
      <td>10014.902013</td>
    </tr>
    <tr>
      <th>인천</th>
      <td>11915.320732</td>
    </tr>
    <tr>
      <th>전남</th>
      <td>7565.316532</td>
    </tr>
    <tr>
      <th>전북</th>
      <td>7724.235484</td>
    </tr>
    <tr>
      <th>제주</th>
      <td>11241.276712</td>
    </tr>
    <tr>
      <th>충남</th>
      <td>8233.651883</td>
    </tr>
    <tr>
      <th>충북</th>
      <td>7634.655600</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 전용면적 그룹으로 평당분양가격 평균 구하기
pd.pivot_table(df_last, index="전용면적", values="평당분양가격", aggfunc="mean")
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>평당분양가격</th>
    </tr>
    <tr>
      <th>전용면적</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>102㎡~</th>
      <td>11517.705634</td>
    </tr>
    <tr>
      <th>60㎡</th>
      <td>10375.137421</td>
    </tr>
    <tr>
      <th>60㎡~ 85㎡</th>
      <td>10271.040071</td>
    </tr>
    <tr>
      <th>85㎡~ 102㎡</th>
      <td>11097.599573</td>
    </tr>
    <tr>
      <th>전체</th>
      <td>10276.086207</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 지역명,전용면적 그룹으로 평당분양가격 평균 구하기
df_last.pivot_table(index=["전용면적","지역명"], values="평당분양가격", aggfunc="mean")
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>평당분양가격</th>
    </tr>
    <tr>
      <th>전용면적</th>
      <th>지역명</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="5" valign="top">102㎡~</th>
      <th>강원</th>
      <td>8311.380000</td>
    </tr>
    <tr>
      <th>경기</th>
      <td>14771.790000</td>
    </tr>
    <tr>
      <th>경남</th>
      <td>10358.363265</td>
    </tr>
    <tr>
      <th>경북</th>
      <td>9157.302000</td>
    </tr>
    <tr>
      <th>광주</th>
      <td>11041.532432</td>
    </tr>
    <tr>
      <th>...</th>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th rowspan="5" valign="top">전체</th>
      <th>전남</th>
      <td>7283.562000</td>
    </tr>
    <tr>
      <th>전북</th>
      <td>7292.604000</td>
    </tr>
    <tr>
      <th>제주</th>
      <td>10784.994000</td>
    </tr>
    <tr>
      <th>충남</th>
      <td>7815.324000</td>
    </tr>
    <tr>
      <th>충북</th>
      <td>7219.014000</td>
    </tr>
  </tbody>
</table>
<p>85 rows × 1 columns</p>
</div>




```python
# 지역명,전용면적 그룹으로 평당분양가격 평균 구하기 (unstack으로 지역명 칼럼으로가게하기)
df_last.pivot_table(index="전용면적",columns="지역명", values="평당분양가격", aggfunc="mean").round()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>지역명</th>
      <th>강원</th>
      <th>경기</th>
      <th>경남</th>
      <th>경북</th>
      <th>광주</th>
      <th>대구</th>
      <th>대전</th>
      <th>부산</th>
      <th>서울</th>
      <th>세종</th>
      <th>울산</th>
      <th>인천</th>
      <th>전남</th>
      <th>전북</th>
      <th>제주</th>
      <th>충남</th>
      <th>충북</th>
    </tr>
    <tr>
      <th>전용면적</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>102㎡~</th>
      <td>8311.0</td>
      <td>14772.0</td>
      <td>10358.0</td>
      <td>9157.0</td>
      <td>11042.0</td>
      <td>13087.0</td>
      <td>14877.0</td>
      <td>13208.0</td>
      <td>23446.0</td>
      <td>10107.0</td>
      <td>9974.0</td>
      <td>14362.0</td>
      <td>8168.0</td>
      <td>8194.0</td>
      <td>10523.0</td>
      <td>8689.0</td>
      <td>8195.0</td>
    </tr>
    <tr>
      <th>60㎡</th>
      <td>7567.0</td>
      <td>13252.0</td>
      <td>8689.0</td>
      <td>7883.0</td>
      <td>9431.0</td>
      <td>11992.0</td>
      <td>9176.0</td>
      <td>11354.0</td>
      <td>23213.0</td>
      <td>9324.0</td>
      <td>9202.0</td>
      <td>11241.0</td>
      <td>7210.0</td>
      <td>7610.0</td>
      <td>14022.0</td>
      <td>7911.0</td>
      <td>7103.0</td>
    </tr>
    <tr>
      <th>60㎡~ 85㎡</th>
      <td>7486.0</td>
      <td>12524.0</td>
      <td>8619.0</td>
      <td>8061.0</td>
      <td>9911.0</td>
      <td>11779.0</td>
      <td>9711.0</td>
      <td>11865.0</td>
      <td>22787.0</td>
      <td>9775.0</td>
      <td>10503.0</td>
      <td>11384.0</td>
      <td>7269.0</td>
      <td>7271.0</td>
      <td>10621.0</td>
      <td>7819.0</td>
      <td>7264.0</td>
    </tr>
    <tr>
      <th>85㎡~ 102㎡</th>
      <td>8750.0</td>
      <td>13678.0</td>
      <td>10018.0</td>
      <td>8774.0</td>
      <td>9296.0</td>
      <td>11141.0</td>
      <td>9037.0</td>
      <td>12073.0</td>
      <td>25944.0</td>
      <td>9848.0</td>
      <td>8861.0</td>
      <td>11528.0</td>
      <td>7909.0</td>
      <td>8276.0</td>
      <td>10709.0</td>
      <td>9120.0</td>
      <td>8391.0</td>
    </tr>
    <tr>
      <th>전체</th>
      <td>7478.0</td>
      <td>12560.0</td>
      <td>8659.0</td>
      <td>8079.0</td>
      <td>9904.0</td>
      <td>11771.0</td>
      <td>9786.0</td>
      <td>11936.0</td>
      <td>22610.0</td>
      <td>9805.0</td>
      <td>10493.0</td>
      <td>11257.0</td>
      <td>7284.0</td>
      <td>7293.0</td>
      <td>10785.0</td>
      <td>7815.0</td>
      <td>7219.0</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 연도, 지역명으로 평당분양가격으로 평균 구하기

p = pd.pivot_table(df_last, index=["연도","지역명"], values="평당분양가격")

p.loc[2017] # loc는 행을 기준으로 가져온다.
# 2017년 데이터만 볼 수 있다.
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>평당분양가격</th>
    </tr>
    <tr>
      <th>지역명</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>강원</th>
      <td>7273.560000</td>
    </tr>
    <tr>
      <th>경기</th>
      <td>12304.980000</td>
    </tr>
    <tr>
      <th>경남</th>
      <td>8786.760000</td>
    </tr>
    <tr>
      <th>경북</th>
      <td>8280.800000</td>
    </tr>
    <tr>
      <th>광주</th>
      <td>9613.977551</td>
    </tr>
    <tr>
      <th>대구</th>
      <td>12206.700000</td>
    </tr>
    <tr>
      <th>대전</th>
      <td>9957.158491</td>
    </tr>
    <tr>
      <th>부산</th>
      <td>11560.680000</td>
    </tr>
    <tr>
      <th>서울</th>
      <td>21831.060000</td>
    </tr>
    <tr>
      <th>세종</th>
      <td>9132.505556</td>
    </tr>
    <tr>
      <th>울산</th>
      <td>10666.935714</td>
    </tr>
    <tr>
      <th>인천</th>
      <td>11640.600000</td>
    </tr>
    <tr>
      <th>전남</th>
      <td>7372.920000</td>
    </tr>
    <tr>
      <th>전북</th>
      <td>7398.973585</td>
    </tr>
    <tr>
      <th>제주</th>
      <td>12566.730000</td>
    </tr>
    <tr>
      <th>충남</th>
      <td>8198.422222</td>
    </tr>
    <tr>
      <th>충북</th>
      <td>7473.120000</td>
    </tr>
  </tbody>
</table>
</div>



## 최근 데이터 시각화 하기


```python
#지역명으로 분양가격의 평균 구하고 선그래프

#한글 폰트 사용하기 

import matplotlib.pyplot as plt
plt.rc("font", family="Malgun Gothic")

g = df_last.groupby(["지역명"])["평당분양가격"].mean().sort_values(ascending=False)
#sort_values는 기본값 오름차순
#ascending=False는 내림차순
#g.plot(kind="bar")
g.plot.bar(rot=0, figsize=(10, 3))
#rot=0 글씨 똑바로 보기

```




    <matplotlib.axes._subplots.AxesSubplot at 0x171e4779a00>




![png](output_45_1.png)



```python
#전용면적당 평당분양가격
df_last.groupby(["전용면적"])["평당분양가격"].mean().plot.bar(rot=0)
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171e4f31af0>




![png](output_46_1.png)



```python
# 연도별 분양가격의 평균 막대그래프
df_last.groupby(["연도"])["평당분양가격"].mean().plot()
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171e4f38130>




![png](output_47_1.png)



```python
# boxplot으로 연도별 평당분양가격 확인
df_last.pivot_table(index="연도", values="평당분양가격").plot.box()
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171e4ff6310>




![png](output_48_1.png)



```python
# 연도에 따른 전용면적
df_last.pivot_table(index="월", columns="연도", values="평당분양가격").plot.box()
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171e5052370>




![png](output_49_1.png)



```python
p = df_last.pivot_table(index="월", columns=["연도","전용면적"], values="평당분양가격")
p.plot.box(figsize=(15, 3), rot=30)
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171e5058c70>




![png](output_50_1.png)



```python
p.plot.bar(figsize=(15, 3), rot=30)
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171e631b460>




![png](output_51_1.png)



```python
p = df_last.pivot_table(index="연도", columns="월", values="평당분양가격")
p.plot.line(figsize=(15, 3), rot=30)
#분양가가 꾸준히 상승한것을 알 수 있다.
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171e67035b0>




![png](output_52_1.png)



```python
# seaborn으로 시각화

import seaborn as sns

```


```python
plt.figure(figsize=(10,3))
sns.barplot(data=df_last, x="지역명", y="평당분양가격", #기본값 평균
           ci = None) # ci는 신뢰구간,sd= 표준편차, 기본값 95
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171e7a58340>




![png](output_54_1.png)



```python
#barplot으로 연도별 평당분양가격 그리기

sns.barplot(data=df_last, x="연도", y="평당분양가격")
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171e7af6fa0>




![png](output_55_1.png)



```python
# linplot으로 연도별 평당분양가격 그리기
plt.figure(figsize=(10,3))
sns.lineplot(data=df_last, x="연도", y="평당분양가격", hue="지역명")
#hue로 지역명에 따라 다른색으로 표현
#legend(범례값을 밖에 그리는 법)
plt.legend(bbox_to_anchor=(1.02, 1), loc=2, borderaxespad=0.)
```




    <matplotlib.legend.Legend at 0x171e7b5e7c0>




![png](output_56_1.png)



```python
#relplot는 col, coloption을 쓸 수 있다.
sns.relplot(data=df_last, x="연도", y="평당분양가격", 
            kind="line", hue="지역명", col="지역명", col_wrap=4, ci=None)
#col_wrap 4줄씩 지역명에 따라 그래프를 그려준다.
# relplot는 기본값 scatter이다.
```




    <seaborn.axisgrid.FacetGrid at 0x171e7cdfb80>




![png](output_57_1.png)



```python
#catplot으로 그리기 col, col_wrap 가능하다.
sns.catplot(data=df_last, x="연도", y="평당분양가격", 
           kind="bar", ci=None, col="지역명", col_wrap=4)
```




    <seaborn.axisgrid.FacetGrid at 0x171e9c79e20>




![png](output_58_1.png)



```python
#boxplot과 violinplot

sns.boxplot(data=df_last, x="연도", y="평당분양가격")
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171ec007220>




![png](output_59_1.png)



```python
# hue옵션을 주어 전용면적별로 다르게 표시해 보기
plt.figure(figsize=(12, 3))
sns.boxplot(data=df_last, x="연도", y="평당분양가격", hue="전용면적")
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171ea6bc6d0>




![png](output_60_1.png)



```python
# 연도별 평당분양가격을 violinplot으로 그려보기

sns.violinplot(data=df_last, x="연도", y="평당분양가격")
# 데이터가 어디에 많은지 파악할 수 있다.
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171ec2dea90>




![png](output_61_1.png)



```python
# lmplot과 swarmplot

sns.lmplot(data=df_last, x="연도", y="평당분양가격", hue="전용면적", 
           col="전용면적", col_wrap=3, x_jitter=.1)
```




    <seaborn.axisgrid.FacetGrid at 0x171ec2b79d0>




![png](output_62_1.png)



```python
# 연도별 평당분양가격을 swarmplot 으로 그려보기
# swarmplot은 범주형(카테고리) 데이터의 산점도를 표현하기에 적합
#plt.figure(figsize=(15, 3))
#sns.swarmplot(data=df_last, x="연도", y="평당분양가격", hue="전용면적")
```


```python
#이상치 보기 

df_last["평당분양가격"].describe()
```




    count     3957.000000
    mean     10685.824488
    std       4172.222780
    min       6164.400000
    25%       8055.300000
    50%       9484.200000
    75%      11751.300000
    max      42002.400000
    Name: 평당분양가격, dtype: float64




```python

max_price = df_last["평당분양가격"].max()
max_price

```




    42002.399999999994




```python
df_last[df_last["평당분양가격"] == max_price]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>연도</th>
      <th>월</th>
      <th>분양가격</th>
      <th>평당분양가격</th>
      <th>전용면적</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3743</th>
      <td>서울</td>
      <td>2019</td>
      <td>6</td>
      <td>12728.0</td>
      <td>42002.4</td>
      <td>85㎡~ 102㎡</td>
    </tr>
    <tr>
      <th>3828</th>
      <td>서울</td>
      <td>2019</td>
      <td>7</td>
      <td>12728.0</td>
      <td>42002.4</td>
      <td>85㎡~ 102㎡</td>
    </tr>
    <tr>
      <th>3913</th>
      <td>서울</td>
      <td>2019</td>
      <td>8</td>
      <td>12728.0</td>
      <td>42002.4</td>
      <td>85㎡~ 102㎡</td>
    </tr>
    <tr>
      <th>3998</th>
      <td>서울</td>
      <td>2019</td>
      <td>9</td>
      <td>12728.0</td>
      <td>42002.4</td>
      <td>85㎡~ 102㎡</td>
    </tr>
    <tr>
      <th>4083</th>
      <td>서울</td>
      <td>2019</td>
      <td>10</td>
      <td>12728.0</td>
      <td>42002.4</td>
      <td>85㎡~ 102㎡</td>
    </tr>
    <tr>
      <th>4168</th>
      <td>서울</td>
      <td>2019</td>
      <td>11</td>
      <td>12728.0</td>
      <td>42002.4</td>
      <td>85㎡~ 102㎡</td>
    </tr>
    <tr>
      <th>4253</th>
      <td>서울</td>
      <td>2019</td>
      <td>12</td>
      <td>12728.0</td>
      <td>42002.4</td>
      <td>85㎡~ 102㎡</td>
    </tr>
  </tbody>
</table>
</div>



## 수치데이터 히스토그램 그리기


```python
h = df_last["평당분양가격"].hist(bins=10) # bins는 몇개의 구간에 담을것인가?
```


![png](output_68_0.png)



```python
# 결측치 없는 데이터 가져오기 loc이용
price = df_last.loc[df_last["평당분양가격"].notnull(),"평당분양가격"]

price
```




    0       19275.3
    1       18651.6
    2       19410.6
    3       18879.3
    4       19400.7
             ...   
    4327    10114.5
    4328    10715.1
    4330    12810.6
    4332    12863.4
    4334    11883.3
    Name: 평당분양가격, Length: 3957, dtype: float64




```python

# distplot으로 평당 분양가격을 표현

sns.distplot(price, hist=False, rug=True)
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171ec7e0910>




![png](output_70_1.png)



```python
# subplot 으로 표현해보기 (산마루)
#g = sns.FacetGrid(df_last, row="지역명",
#                  height=1.7, aspect=4,)
#g.map(sns.distplot, "평당분양가격", hist=False, rug=True);
```


```python
# pairplot
df_last_notnull = df_last.loc[df_last["평당분양가격"].notnull(),
                              ["연도","월","평당분양가격","지역명","전용면적"]]
sns.pairplot(df_last_notnull, hue="전용면적")
```




    <seaborn.axisgrid.PairGrid at 0x171edd96c40>




![png](output_72_1.png)



```python
#전용면적 별로 value_counts를 사용하여 데이터를 집계

df_last["전용면적"].value_counts()
```




     102㎡~        867
     60㎡~ 85㎡     867
     85㎡~ 102㎡    867
    전체            867
     60㎡          867
    Name: 전용면적, dtype: int64



## 2015년 8월 이전 데이터 보기


```python
pd.options.display.max_columns = 100 # 칼럼 전체보기
df_first.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역</th>
      <th>2013년12월</th>
      <th>2014년1월</th>
      <th>2014년2월</th>
      <th>2014년3월</th>
      <th>2014년4월</th>
      <th>2014년5월</th>
      <th>2014년6월</th>
      <th>2014년7월</th>
      <th>2014년8월</th>
      <th>2014년9월</th>
      <th>2014년10월</th>
      <th>2014년11월</th>
      <th>2014년12월</th>
      <th>2015년1월</th>
      <th>2015년2월</th>
      <th>2015년3월</th>
      <th>2015년4월</th>
      <th>2015년5월</th>
      <th>2015년6월</th>
      <th>2015년7월</th>
      <th>2015년8월</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>18189</td>
      <td>17925</td>
      <td>17925</td>
      <td>18016</td>
      <td>18098</td>
      <td>19446</td>
      <td>18867</td>
      <td>18742</td>
      <td>19274</td>
      <td>19404</td>
      <td>19759</td>
      <td>20242</td>
      <td>20269</td>
      <td>20670</td>
      <td>20670</td>
      <td>19415</td>
      <td>18842</td>
      <td>18367</td>
      <td>18374</td>
      <td>18152</td>
      <td>18443</td>
    </tr>
    <tr>
      <th>1</th>
      <td>부산</td>
      <td>8111</td>
      <td>8111</td>
      <td>9078</td>
      <td>8965</td>
      <td>9402</td>
      <td>9501</td>
      <td>9453</td>
      <td>9457</td>
      <td>9411</td>
      <td>9258</td>
      <td>9110</td>
      <td>9208</td>
      <td>9208</td>
      <td>9204</td>
      <td>9235</td>
      <td>9279</td>
      <td>9327</td>
      <td>9345</td>
      <td>9515</td>
      <td>9559</td>
      <td>9581</td>
    </tr>
    <tr>
      <th>2</th>
      <td>대구</td>
      <td>8080</td>
      <td>8080</td>
      <td>8077</td>
      <td>8101</td>
      <td>8267</td>
      <td>8274</td>
      <td>8360</td>
      <td>8360</td>
      <td>8370</td>
      <td>8449</td>
      <td>8403</td>
      <td>8439</td>
      <td>8253</td>
      <td>8327</td>
      <td>8416</td>
      <td>8441</td>
      <td>8446</td>
      <td>8568</td>
      <td>8542</td>
      <td>8542</td>
      <td>8795</td>
    </tr>
    <tr>
      <th>3</th>
      <td>인천</td>
      <td>10204</td>
      <td>10204</td>
      <td>10408</td>
      <td>10408</td>
      <td>10000</td>
      <td>9844</td>
      <td>10058</td>
      <td>9974</td>
      <td>9973</td>
      <td>9973</td>
      <td>10016</td>
      <td>10020</td>
      <td>10020</td>
      <td>10017</td>
      <td>9876</td>
      <td>9876</td>
      <td>9938</td>
      <td>10551</td>
      <td>10443</td>
      <td>10443</td>
      <td>10449</td>
    </tr>
    <tr>
      <th>4</th>
      <td>광주</td>
      <td>6098</td>
      <td>7326</td>
      <td>7611</td>
      <td>7346</td>
      <td>7346</td>
      <td>7523</td>
      <td>7659</td>
      <td>7612</td>
      <td>7622</td>
      <td>7802</td>
      <td>7707</td>
      <td>7752</td>
      <td>7748</td>
      <td>7752</td>
      <td>7756</td>
      <td>7861</td>
      <td>7914</td>
      <td>7877</td>
      <td>7881</td>
      <td>8089</td>
      <td>8231</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 결측치 확인
df_first.isnull().sum()
# 0이면 결측치가 없는것
```




    지역          0
    2013년12월    0
    2014년1월     0
    2014년2월     0
    2014년3월     0
    2014년4월     0
    2014년5월     0
    2014년6월     0
    2014년7월     0
    2014년8월     0
    2014년9월     0
    2014년10월    0
    2014년11월    0
    2014년12월    0
    2015년1월     0
    2015년2월     0
    2015년3월     0
    2015년4월     0
    2015년5월     0
    2015년6월     0
    2015년7월     0
    2015년8월     0
    dtype: int64




```python
df_last.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>연도</th>
      <th>월</th>
      <th>분양가격</th>
      <th>평당분양가격</th>
      <th>전용면적</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>2015</td>
      <td>10</td>
      <td>5841.0</td>
      <td>19275.3</td>
      <td>전체</td>
    </tr>
    <tr>
      <th>1</th>
      <td>서울</td>
      <td>2015</td>
      <td>10</td>
      <td>5652.0</td>
      <td>18651.6</td>
      <td>60㎡</td>
    </tr>
    <tr>
      <th>2</th>
      <td>서울</td>
      <td>2015</td>
      <td>10</td>
      <td>5882.0</td>
      <td>19410.6</td>
      <td>60㎡~ 85㎡</td>
    </tr>
    <tr>
      <th>3</th>
      <td>서울</td>
      <td>2015</td>
      <td>10</td>
      <td>5721.0</td>
      <td>18879.3</td>
      <td>85㎡~ 102㎡</td>
    </tr>
    <tr>
      <th>4</th>
      <td>서울</td>
      <td>2015</td>
      <td>10</td>
      <td>5879.0</td>
      <td>19400.7</td>
      <td>102㎡~</td>
    </tr>
  </tbody>
</table>
</div>




```python
# melt로 데이터형태를 바꿔서 같은 형태로 만들어주기
df_first_melt = df_first.melt(id_vars="지역", var_name="기간", value_name="평당분양가격")
# 지역만 칼럼으로 쓰고 나머지는 행으로 녹인다.
# var_name으로 variable 칼럼이름을 바꿔준다.
# value_name으로 평당분양가격으로 아름 바꿔줌
df_first_melt.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역</th>
      <th>기간</th>
      <th>평당분양가격</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>2013년12월</td>
      <td>18189</td>
    </tr>
    <tr>
      <th>1</th>
      <td>부산</td>
      <td>2013년12월</td>
      <td>8111</td>
    </tr>
    <tr>
      <th>2</th>
      <td>대구</td>
      <td>2013년12월</td>
      <td>8080</td>
    </tr>
    <tr>
      <th>3</th>
      <td>인천</td>
      <td>2013년12월</td>
      <td>10204</td>
    </tr>
    <tr>
      <th>4</th>
      <td>광주</td>
      <td>2013년12월</td>
      <td>6098</td>
    </tr>
  </tbody>
</table>
</div>




```python
df_first_melt.columns = ["지역명", "기간", "평당분양가격"]
# columns로 칼럼이름 변경
df_first_melt.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>기간</th>
      <th>평당분양가격</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>2013년12월</td>
      <td>18189</td>
    </tr>
    <tr>
      <th>1</th>
      <td>부산</td>
      <td>2013년12월</td>
      <td>8111</td>
    </tr>
    <tr>
      <th>2</th>
      <td>대구</td>
      <td>2013년12월</td>
      <td>8080</td>
    </tr>
    <tr>
      <th>3</th>
      <td>인천</td>
      <td>2013년12월</td>
      <td>10204</td>
    </tr>
    <tr>
      <th>4</th>
      <td>광주</td>
      <td>2013년12월</td>
      <td>6098</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 기간에 있는 연도, 월을 빼고 칼럼으로 만들기

#년도 반환 함수
def parse_year(date):
    year = date.split("년")[0] # 년기준 앞
    year = int(year) # object를 int로 바꿔줌
    
    return year

date = "2013년12월"


parse_year(date)
```




    2013




```python
#월 반환 함수
def parse_month(date):
    month = date.split("년")[-1].replace("월", "") # 년기준 맨 뒤
    month = int(month) # object를 int로 바꿔줌
    
    return month

parse_month(date)
```




    12




```python
df_first_melt["연도"] = df_first_melt["기간"].apply(parse_year) # 앞에서만든 parse_year함수 적용(apply)
df_first_melt.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>기간</th>
      <th>평당분양가격</th>
      <th>연도</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>2013년12월</td>
      <td>18189</td>
      <td>2013</td>
    </tr>
    <tr>
      <th>1</th>
      <td>부산</td>
      <td>2013년12월</td>
      <td>8111</td>
      <td>2013</td>
    </tr>
    <tr>
      <th>2</th>
      <td>대구</td>
      <td>2013년12월</td>
      <td>8080</td>
      <td>2013</td>
    </tr>
    <tr>
      <th>3</th>
      <td>인천</td>
      <td>2013년12월</td>
      <td>10204</td>
      <td>2013</td>
    </tr>
    <tr>
      <th>4</th>
      <td>광주</td>
      <td>2013년12월</td>
      <td>6098</td>
      <td>2013</td>
    </tr>
  </tbody>
</table>
</div>




```python
df_first_melt["월"] = df_first_melt["기간"].apply(parse_month)
df_first_melt.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>기간</th>
      <th>평당분양가격</th>
      <th>연도</th>
      <th>월</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>2013년12월</td>
      <td>18189</td>
      <td>2013</td>
      <td>12</td>
    </tr>
    <tr>
      <th>1</th>
      <td>부산</td>
      <td>2013년12월</td>
      <td>8111</td>
      <td>2013</td>
      <td>12</td>
    </tr>
    <tr>
      <th>2</th>
      <td>대구</td>
      <td>2013년12월</td>
      <td>8080</td>
      <td>2013</td>
      <td>12</td>
    </tr>
    <tr>
      <th>3</th>
      <td>인천</td>
      <td>2013년12월</td>
      <td>10204</td>
      <td>2013</td>
      <td>12</td>
    </tr>
    <tr>
      <th>4</th>
      <td>광주</td>
      <td>2013년12월</td>
      <td>6098</td>
      <td>2013</td>
      <td>12</td>
    </tr>
  </tbody>
</table>
</div>



## 두개의 데이터프레임 합치기


```python
df_last[df_last["전용면적"] == "전체"]
#불리언인덱싱으로 전용면적이 전체인것만 가져오기
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>연도</th>
      <th>월</th>
      <th>분양가격</th>
      <th>평당분양가격</th>
      <th>전용면적</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>2015</td>
      <td>10</td>
      <td>5841.0</td>
      <td>19275.3</td>
      <td>전체</td>
    </tr>
    <tr>
      <th>5</th>
      <td>인천</td>
      <td>2015</td>
      <td>10</td>
      <td>3163.0</td>
      <td>10437.9</td>
      <td>전체</td>
    </tr>
    <tr>
      <th>10</th>
      <td>경기</td>
      <td>2015</td>
      <td>10</td>
      <td>3138.0</td>
      <td>10355.4</td>
      <td>전체</td>
    </tr>
    <tr>
      <th>15</th>
      <td>부산</td>
      <td>2015</td>
      <td>10</td>
      <td>3112.0</td>
      <td>10269.6</td>
      <td>전체</td>
    </tr>
    <tr>
      <th>20</th>
      <td>대구</td>
      <td>2015</td>
      <td>10</td>
      <td>2682.0</td>
      <td>8850.6</td>
      <td>전체</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>4310</th>
      <td>전북</td>
      <td>2019</td>
      <td>12</td>
      <td>2468.0</td>
      <td>8144.4</td>
      <td>전체</td>
    </tr>
    <tr>
      <th>4315</th>
      <td>전남</td>
      <td>2019</td>
      <td>12</td>
      <td>2452.0</td>
      <td>8091.6</td>
      <td>전체</td>
    </tr>
    <tr>
      <th>4320</th>
      <td>경북</td>
      <td>2019</td>
      <td>12</td>
      <td>2914.0</td>
      <td>9616.2</td>
      <td>전체</td>
    </tr>
    <tr>
      <th>4325</th>
      <td>경남</td>
      <td>2019</td>
      <td>12</td>
      <td>3063.0</td>
      <td>10107.9</td>
      <td>전체</td>
    </tr>
    <tr>
      <th>4330</th>
      <td>제주</td>
      <td>2019</td>
      <td>12</td>
      <td>3882.0</td>
      <td>12810.6</td>
      <td>전체</td>
    </tr>
  </tbody>
</table>
<p>867 rows × 6 columns</p>
</div>




```python
df_last.columns.to_list()
#리스트형태로 바꾸기
```




    ['지역명', '연도', '월', '분양가격', '평당분양가격', '전용면적']




```python
cols = ['지역명', '연도', '월', '평당분양가격']
# 필요한 칼럼만 뽑기
```


```python
df_last_prepare = df_last.loc[df_last["전용면적"] == "전체",
                              cols].copy()
# 필요한 칼럼만저장
df_last_prepare
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>연도</th>
      <th>월</th>
      <th>평당분양가격</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>2015</td>
      <td>10</td>
      <td>19275.3</td>
    </tr>
    <tr>
      <th>5</th>
      <td>인천</td>
      <td>2015</td>
      <td>10</td>
      <td>10437.9</td>
    </tr>
    <tr>
      <th>10</th>
      <td>경기</td>
      <td>2015</td>
      <td>10</td>
      <td>10355.4</td>
    </tr>
    <tr>
      <th>15</th>
      <td>부산</td>
      <td>2015</td>
      <td>10</td>
      <td>10269.6</td>
    </tr>
    <tr>
      <th>20</th>
      <td>대구</td>
      <td>2015</td>
      <td>10</td>
      <td>8850.6</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>4310</th>
      <td>전북</td>
      <td>2019</td>
      <td>12</td>
      <td>8144.4</td>
    </tr>
    <tr>
      <th>4315</th>
      <td>전남</td>
      <td>2019</td>
      <td>12</td>
      <td>8091.6</td>
    </tr>
    <tr>
      <th>4320</th>
      <td>경북</td>
      <td>2019</td>
      <td>12</td>
      <td>9616.2</td>
    </tr>
    <tr>
      <th>4325</th>
      <td>경남</td>
      <td>2019</td>
      <td>12</td>
      <td>10107.9</td>
    </tr>
    <tr>
      <th>4330</th>
      <td>제주</td>
      <td>2019</td>
      <td>12</td>
      <td>12810.6</td>
    </tr>
  </tbody>
</table>
<p>867 rows × 4 columns</p>
</div>




```python
df_first_prepare = df_first_melt[cols].copy()
df_first_prepare.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>연도</th>
      <th>월</th>
      <th>평당분양가격</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>2013</td>
      <td>12</td>
      <td>18189</td>
    </tr>
    <tr>
      <th>1</th>
      <td>부산</td>
      <td>2013</td>
      <td>12</td>
      <td>8111</td>
    </tr>
    <tr>
      <th>2</th>
      <td>대구</td>
      <td>2013</td>
      <td>12</td>
      <td>8080</td>
    </tr>
    <tr>
      <th>3</th>
      <td>인천</td>
      <td>2013</td>
      <td>12</td>
      <td>10204</td>
    </tr>
    <tr>
      <th>4</th>
      <td>광주</td>
      <td>2013</td>
      <td>12</td>
      <td>6098</td>
    </tr>
  </tbody>
</table>
</div>




```python
# concat으로 두개의 데이터를 합치기

df = pd.concat([df_first_prepare, df_last_prepare])
df

#df.shape
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>지역명</th>
      <th>연도</th>
      <th>월</th>
      <th>평당분양가격</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>서울</td>
      <td>2013</td>
      <td>12</td>
      <td>18189.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>부산</td>
      <td>2013</td>
      <td>12</td>
      <td>8111.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>대구</td>
      <td>2013</td>
      <td>12</td>
      <td>8080.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>인천</td>
      <td>2013</td>
      <td>12</td>
      <td>10204.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>광주</td>
      <td>2013</td>
      <td>12</td>
      <td>6098.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>4310</th>
      <td>전북</td>
      <td>2019</td>
      <td>12</td>
      <td>8144.4</td>
    </tr>
    <tr>
      <th>4315</th>
      <td>전남</td>
      <td>2019</td>
      <td>12</td>
      <td>8091.6</td>
    </tr>
    <tr>
      <th>4320</th>
      <td>경북</td>
      <td>2019</td>
      <td>12</td>
      <td>9616.2</td>
    </tr>
    <tr>
      <th>4325</th>
      <td>경남</td>
      <td>2019</td>
      <td>12</td>
      <td>10107.9</td>
    </tr>
    <tr>
      <th>4330</th>
      <td>제주</td>
      <td>2019</td>
      <td>12</td>
      <td>12810.6</td>
    </tr>
  </tbody>
</table>
<p>1224 rows × 4 columns</p>
</div>




```python
df.shape
```




    (1224, 4)




```python
df["연도"].value_counts(sort=False)
```




    2013     17
    2014    204
    2015    187
    2016    204
    2017    204
    2018    204
    2019    204
    Name: 연도, dtype: int64



## pivot_table로 heatmap 표현


```python
#연도를 인덱스로, 지역명을 컬러믕로 평당분양가격을 피봇테일블로
t = pd.pivot_table(df, index="연도", columns="지역명",
               values="평당분양가격").round()

t
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>지역명</th>
      <th>강원</th>
      <th>경기</th>
      <th>경남</th>
      <th>경북</th>
      <th>광주</th>
      <th>대구</th>
      <th>대전</th>
      <th>부산</th>
      <th>서울</th>
      <th>세종</th>
      <th>울산</th>
      <th>인천</th>
      <th>전남</th>
      <th>전북</th>
      <th>제주</th>
      <th>충남</th>
      <th>충북</th>
    </tr>
    <tr>
      <th>연도</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013</th>
      <td>6230.0</td>
      <td>10855.0</td>
      <td>6473.0</td>
      <td>6168.0</td>
      <td>6098.0</td>
      <td>8080.0</td>
      <td>8321.0</td>
      <td>8111.0</td>
      <td>18189.0</td>
      <td>7601.0</td>
      <td>8090.0</td>
      <td>10204.0</td>
      <td>5678.0</td>
      <td>6282.0</td>
      <td>7674.0</td>
      <td>6365.0</td>
      <td>6589.0</td>
    </tr>
    <tr>
      <th>2014</th>
      <td>6332.0</td>
      <td>10509.0</td>
      <td>6729.0</td>
      <td>6536.0</td>
      <td>7588.0</td>
      <td>8286.0</td>
      <td>8240.0</td>
      <td>9180.0</td>
      <td>18997.0</td>
      <td>8085.0</td>
      <td>8362.0</td>
      <td>10075.0</td>
      <td>5719.0</td>
      <td>6362.0</td>
      <td>7855.0</td>
      <td>6682.0</td>
      <td>6620.0</td>
    </tr>
    <tr>
      <th>2015</th>
      <td>6831.0</td>
      <td>10489.0</td>
      <td>7646.0</td>
      <td>7035.0</td>
      <td>7956.0</td>
      <td>8707.0</td>
      <td>8105.0</td>
      <td>9633.0</td>
      <td>19283.0</td>
      <td>8641.0</td>
      <td>9273.0</td>
      <td>10277.0</td>
      <td>6109.0</td>
      <td>6623.0</td>
      <td>7465.0</td>
      <td>7024.0</td>
      <td>6700.0</td>
    </tr>
    <tr>
      <th>2016</th>
      <td>7011.0</td>
      <td>11220.0</td>
      <td>7848.0</td>
      <td>7361.0</td>
      <td>8899.0</td>
      <td>10310.0</td>
      <td>8502.0</td>
      <td>10430.0</td>
      <td>20663.0</td>
      <td>8860.0</td>
      <td>10209.0</td>
      <td>10532.0</td>
      <td>6489.0</td>
      <td>6418.0</td>
      <td>9129.0</td>
      <td>7331.0</td>
      <td>6770.0</td>
    </tr>
    <tr>
      <th>2017</th>
      <td>7127.0</td>
      <td>11850.0</td>
      <td>8120.0</td>
      <td>7795.0</td>
      <td>9464.0</td>
      <td>11456.0</td>
      <td>9045.0</td>
      <td>11578.0</td>
      <td>21376.0</td>
      <td>9135.0</td>
      <td>11345.0</td>
      <td>10737.0</td>
      <td>7188.0</td>
      <td>7058.0</td>
      <td>10831.0</td>
      <td>7456.0</td>
      <td>6763.0</td>
    </tr>
    <tr>
      <th>2018</th>
      <td>7681.0</td>
      <td>13186.0</td>
      <td>9019.0</td>
      <td>8505.0</td>
      <td>9856.0</td>
      <td>12076.0</td>
      <td>10180.0</td>
      <td>12998.0</td>
      <td>22889.0</td>
      <td>10355.0</td>
      <td>10241.0</td>
      <td>11274.0</td>
      <td>7789.0</td>
      <td>7626.0</td>
      <td>11891.0</td>
      <td>8013.0</td>
      <td>7874.0</td>
    </tr>
    <tr>
      <th>2019</th>
      <td>8142.0</td>
      <td>14469.0</td>
      <td>9871.0</td>
      <td>8857.0</td>
      <td>11823.0</td>
      <td>13852.0</td>
      <td>11778.0</td>
      <td>13116.0</td>
      <td>26131.0</td>
      <td>11079.0</td>
      <td>10022.0</td>
      <td>12635.0</td>
      <td>7902.0</td>
      <td>8197.0</td>
      <td>12138.0</td>
      <td>8607.0</td>
      <td>7575.0</td>
    </tr>
  </tbody>
</table>
</div>




```python
plt.figure(figsize=(15, 7))
sns.heatmap(t, cmap="Blues", annot=True, fmt=".0f") 
# cmap으로 색 지정
# annot으로 수치 표현
#fmt로 수치가 잘보이게 표현(소수점 없이)
#서울이 가장 높다.
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171ec2a15e0>




![png](output_95_1.png)



```python
# T는 transpose로 행과 열을 바꿔준다.
#t.T 
t.transpose()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>연도</th>
      <th>2013</th>
      <th>2014</th>
      <th>2015</th>
      <th>2016</th>
      <th>2017</th>
      <th>2018</th>
      <th>2019</th>
    </tr>
    <tr>
      <th>지역명</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>강원</th>
      <td>6230.0</td>
      <td>6332.0</td>
      <td>6831.0</td>
      <td>7011.0</td>
      <td>7127.0</td>
      <td>7681.0</td>
      <td>8142.0</td>
    </tr>
    <tr>
      <th>경기</th>
      <td>10855.0</td>
      <td>10509.0</td>
      <td>10489.0</td>
      <td>11220.0</td>
      <td>11850.0</td>
      <td>13186.0</td>
      <td>14469.0</td>
    </tr>
    <tr>
      <th>경남</th>
      <td>6473.0</td>
      <td>6729.0</td>
      <td>7646.0</td>
      <td>7848.0</td>
      <td>8120.0</td>
      <td>9019.0</td>
      <td>9871.0</td>
    </tr>
    <tr>
      <th>경북</th>
      <td>6168.0</td>
      <td>6536.0</td>
      <td>7035.0</td>
      <td>7361.0</td>
      <td>7795.0</td>
      <td>8505.0</td>
      <td>8857.0</td>
    </tr>
    <tr>
      <th>광주</th>
      <td>6098.0</td>
      <td>7588.0</td>
      <td>7956.0</td>
      <td>8899.0</td>
      <td>9464.0</td>
      <td>9856.0</td>
      <td>11823.0</td>
    </tr>
    <tr>
      <th>대구</th>
      <td>8080.0</td>
      <td>8286.0</td>
      <td>8707.0</td>
      <td>10310.0</td>
      <td>11456.0</td>
      <td>12076.0</td>
      <td>13852.0</td>
    </tr>
    <tr>
      <th>대전</th>
      <td>8321.0</td>
      <td>8240.0</td>
      <td>8105.0</td>
      <td>8502.0</td>
      <td>9045.0</td>
      <td>10180.0</td>
      <td>11778.0</td>
    </tr>
    <tr>
      <th>부산</th>
      <td>8111.0</td>
      <td>9180.0</td>
      <td>9633.0</td>
      <td>10430.0</td>
      <td>11578.0</td>
      <td>12998.0</td>
      <td>13116.0</td>
    </tr>
    <tr>
      <th>서울</th>
      <td>18189.0</td>
      <td>18997.0</td>
      <td>19283.0</td>
      <td>20663.0</td>
      <td>21376.0</td>
      <td>22889.0</td>
      <td>26131.0</td>
    </tr>
    <tr>
      <th>세종</th>
      <td>7601.0</td>
      <td>8085.0</td>
      <td>8641.0</td>
      <td>8860.0</td>
      <td>9135.0</td>
      <td>10355.0</td>
      <td>11079.0</td>
    </tr>
    <tr>
      <th>울산</th>
      <td>8090.0</td>
      <td>8362.0</td>
      <td>9273.0</td>
      <td>10209.0</td>
      <td>11345.0</td>
      <td>10241.0</td>
      <td>10022.0</td>
    </tr>
    <tr>
      <th>인천</th>
      <td>10204.0</td>
      <td>10075.0</td>
      <td>10277.0</td>
      <td>10532.0</td>
      <td>10737.0</td>
      <td>11274.0</td>
      <td>12635.0</td>
    </tr>
    <tr>
      <th>전남</th>
      <td>5678.0</td>
      <td>5719.0</td>
      <td>6109.0</td>
      <td>6489.0</td>
      <td>7188.0</td>
      <td>7789.0</td>
      <td>7902.0</td>
    </tr>
    <tr>
      <th>전북</th>
      <td>6282.0</td>
      <td>6362.0</td>
      <td>6623.0</td>
      <td>6418.0</td>
      <td>7058.0</td>
      <td>7626.0</td>
      <td>8197.0</td>
    </tr>
    <tr>
      <th>제주</th>
      <td>7674.0</td>
      <td>7855.0</td>
      <td>7465.0</td>
      <td>9129.0</td>
      <td>10831.0</td>
      <td>11891.0</td>
      <td>12138.0</td>
    </tr>
    <tr>
      <th>충남</th>
      <td>6365.0</td>
      <td>6682.0</td>
      <td>7024.0</td>
      <td>7331.0</td>
      <td>7456.0</td>
      <td>8013.0</td>
      <td>8607.0</td>
    </tr>
    <tr>
      <th>충북</th>
      <td>6589.0</td>
      <td>6620.0</td>
      <td>6700.0</td>
      <td>6770.0</td>
      <td>6763.0</td>
      <td>7874.0</td>
      <td>7575.0</td>
    </tr>
  </tbody>
</table>
</div>




```python

plt.figure(figsize=(15, 7))
sns.heatmap(t.T, cmap="Blues", annot=True, fmt=".0f") 
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171ec2a1160>




![png](output_97_1.png)



```python
g = df.groupby(["연도","지역명"])["평당분양가격"].mean().unstack().round()
# unstack이용하면 마지막 인덱스값이(지역명) 칼럼으로 간다
#round는 소수점 1자리 까지
```


```python
plt.figure(figsize=(15, 7))
sns.heatmap(g.T, annot=True, fmt=".0f", cmap="Greens")
#fmt=".0f" 소수점 없이 표현
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171eee59a30>




![png](output_99_1.png)


## 2013년부터 최근 데이터까지 시각화


```python
# barplot으로 연도별 평당분양가격 그리기

sns.barplot(data=df, x="연도", y="평당분양가격", ci=None)
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171ef342520>




![png](output_101_1.png)



```python
# pointplot으로 연도별 평당분양가격 그리기
plt.figure(figsize=(12, 4))
sns.pointplot(data=df, x="연도", y="평당분양가격", hue="지역명")
# 범례(legend) 밖으로 빼기
plt.legend(bbox_to_anchor=(1.02, 1), loc=2, borderaxespad=0.)

```




    <matplotlib.legend.Legend at 0x171ef3774c0>




![png](output_102_1.png)



```python
# 서울만 barplot으로 그리기
df_seoul = df[df["지역명"] == "서울"].copy()
#df_seoul.shape

sns.barplot(data=df_seoul, x="연도", y="평당분양가격")
sns.pointplot(data=df_seoul, x="연도", y="평당분양가격")
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171ef5140d0>




![png](output_103_1.png)



```python
#연도별 평당분양가격 boxplot 그리기
sns.boxplot(data=df ,x ="연도", y="평당분양가격")
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171ef7ab220>




![png](output_104_1.png)



```python
#연도별 평당분양가격 boxenplot 그리기
sns.boxenplot(data=df ,x ="연도", y="평당분양가격")
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171ef872c40>




![png](output_105_1.png)



```python
#연도별 평당분양가격 violinplot 그리기
plt.figure(figsize=(10, 4))
sns.violinplot(data=df ,x ="연도", y="평당분양가격")
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171ef907250>




![png](output_106_1.png)



```python
#연도별 평당분양가격 lmplot 그리기
plt.figure(figsize=(10, 4))
sns.lmplot(data=df ,x ="연도", y="평당분양가격", x_jitter=.1)
```




    <seaborn.axisgrid.FacetGrid at 0x171ef99dee0>




    <Figure size 720x288 with 0 Axes>



![png](output_107_2.png)


## 지역별 평당분양가격 보기


```python
# barplot으로 지역별 평당분양가격을 그리기

plt.figure(figsize=(12, 4))
sns.barplot(data=df, x="지역명", y="평당분양가격")
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171ef9f3340>




![png](output_109_1.png)



```python
# boxenplot으로 지역별 평당분양가격을 그리기

plt.figure(figsize=(12, 4))
sns.boxenplot(data=df, x="지역명", y="평당분양가격")
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171efaa83d0>




![png](output_110_1.png)



```python
# violinplot으로 지역별 평당분양가격을 그리기

plt.figure(figsize=(24, 4))
sns.violinplot(data=df, x="지역명", y="평당분양가격")
```




    <matplotlib.axes._subplots.AxesSubplot at 0x171efbab550>




![png](output_111_1.png)



```python

```
